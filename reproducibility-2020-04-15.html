<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Open Science and Reproducibility</title>
    <meta charset="utf-8" />
    <meta name="author" content="Luna L. Sanchez Reyes" />
    <link href="libs/remark-css/kunoichi.css" rel="stylesheet" />
    <link href="libs/remark-css/ninjutsu.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <link href="libs/font-awesome-animation/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="libs/fontawesome/js/fontawesome-all.min.js"></script>
    <link href="libs/font-awesome/css/all.min.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../ninjutsu-luna-extras.css" type="text/css" />
    <link rel="stylesheet" href="assets/ninpo.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: left, middle

# **Open Science and Reproducibility**

&lt;br/&gt;

## An Introduction

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

### **Luna L. S√°nchez Reyes**
### University of California, Merced
&lt;br/&gt;&lt;br/&gt;

QSB Grad Phylogenetics Lecture

April 15, 2020 &amp;#183; Merced, California

&lt;br/&gt;

Find the code for these slides [<span>&lt;i class="fab  fa-github faa-passing animated "&gt;&lt;/i&gt;</span> here](https://github.com/emitanaka/ninja-theme).

---
class: bg-teal
&lt;!-- # Why opening Science? --&gt;

&lt;!-- -- --&gt;

&lt;!-- ## Was it closed?? --&gt;
# What is Open Science?
&lt;br/&gt;
## [Read](https://link.springer.com/chapter/10.1007/978-3-319-00026-8_2) Fecher B., Friesike S. (2014) **Open Science: One term, five schools of thought**. *In:* Bartling S., Friesike S. (eds) Opening Science. Springer, Cham.
&lt;br/&gt;
# Some characteristics of Open Science:

---
class: bg-orange

# Reproducibility &amp;#8800; Open Science



## But a key aspect to it!

## Importance of reproducibility for you

![Science cat](https://github.com/annakrystalli/talks/raw/master/assets/science-cat.jpg)
---
class: bg-pink

# How to make my analyses reproducible?


---
class: split-10
.row[.content[
# &amp;emsp; 1) Version control
]]

.row.split-two[
.column[.content.center.v40[
 &lt;img src="http://www.phdcomics.com/comics/archive/phd101212s.gif" height="500px" alt="Image: Jorge Cham www.phdcomics.com"&gt;
 
&lt;!-- Or, worse --&gt;
&lt;!-- &lt;img src="http://smutch.github.io/VersionControlTutorial/_images/vc-xkcd.jpg" width="500px" alt= "Image: xkcd CC BY-NC 2.5"&gt; --&gt;
]]
.column.split-30[
.row[.content[
## Why?

- Prevent messy file-naming situations
- Loss of work, resources and time

]]
.row.split-40[
.row[.content[
## How?

We are going to use `git`

]]
.row[.content[
Go to terminal and check that you have `git` installed:

```{}
git version
```
For instruction installations, go here.
]]
]
]
]
---
# 2) A contained file structure
---
# 3) A markup language for reports
## Wait, no Word?
---
class: split-two

.column.split-10[
.column.bg-pink[

]
.column.split-two.bg-blue[
.row.split-five[
.row[.content[
# markdown
]]
.row[.content[
## &amp;emsp; uses hashtags #Ô∏è‚É£
]]
.row[.content.vmiddle[
### &amp;emsp; &amp;emsp; to create headers
]]
.row[.content.vmiddle[
#### &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; up to 5 levels, I think...
]]
.row[.content[
##### &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; yes!!!
]]
]
.row.split-two[
.column[.content.v30[
- Use hyphens
- or an asterisk
- to create a list
- of some
- things
]]
.column[.content.v30[
1. Use numbers
1. to create a
1. numbered list
1. of some
1. other things
]]
]
]

]
]
]
.column.slide-in-right.split-two.bg-amber[
.row.split-five[
.row[.content[
```{}
# markdown
```
]]
.row[.content[
```{}
## uses hashtags #Ô∏è‚É£
```
]]
.row[.content[
```{}
### to create headers
```
]]
.row[.content[
```{}
#### up to 5 levels, I think...
```
]]
.row[.content[
```{}
#####  yes!!!
```
]]
]
.row.split-two[
.column[.content.v30[

&amp;emsp; \- Use hyphens   
&amp;emsp; \\\* or an asterisk  
&amp;emsp; \- to create a list  
&amp;emsp; \- of some  
&amp;emsp; \- things  

]]
.column[.content.v30[

.transp[\]1. Use numbers  
.transp[\]1. to create a   
.transp[\]1. numbered list   
.transp[\]1. of some   
.transp[\]1. other things   

]]
]
]
]

---
# Rmarkdown

### Not only include code, but run it

### Change formatting for any journal in seconds

### Include citations and format them

### Automatically include a reference list in any format you need

### Render to different file formats, including word üòú

### And last, but not least...
---
class: split-10

.column[
]
.column.split-three[
.row[.content[
# Add emojis

## Using the R package emo üòø

## Check out an almost complete list of emojis [here](https://gist.github.com/rxaviers/7360908).
]]
.row[.content[
# Add icons 

## Using the shiny package, function `icon()`

## <i class="fab fa-r-project"></i>

]]
.row[.content[
# Or, use hex symbols... for the non faint of heart
]]
]
---
class: split-1-2-1 center

.row.bg-blue[

]
.row[.content.vmiddle[
# Let's get to it!
]]
.row.bg-blue[

]
---
class: split-four, left
.row[.content.vmiddle.center[
#Installing the necessary .blue[R packages]
]]

.row.bg-blue.slide-in-left[.content.center.v40[
### &amp;emsp; Install any package in <i class="fab fa-r-project"></i> with the function  .orange.font-mono[install.packages()]
]]

.row.bg-amber.slide-in-right[.content.center.v40[
## &amp;emsp;We will need the packages .blue[rmarkdown] and .blue[knitr]
]]

.row[.content.v40[
### &amp;emsp; Open R and do &amp;nbsp; .blue.font-mono[install.packages(c("rmarkdown", "knitr"))]
]]
---
class: split-1-2-1, center

.row[.content.vmiddle[
#Creating a new .blue[rmarkdown] file
]]

.row.split-two[
.column.bg-amber[.content.v40[
### Open a new .Rmd file from RStudio &lt;br/&gt; at .blue[File] &gt; .blue[New File] &gt; .blue[R Markdown]. 
]]

.column.slide-in-right[.content.v40[
### This will generate a .amber[template] of an .Rmd file
]]
]

.row.slide-in-left[.content.vmiddle[
### Alternatively, open an empty file an save it as an .blue[.Rmd file]
]]
---
class: split-20
.row[.content[
# &amp;emsp; All Rmarkdown files have two main sections
]]
.row.split-30[
.row.slide-in-left.split-two[
.column[.content.center.font-small[
### A header, that is called üç† the YAML üç†

It sets up various formatting and rendering &lt;br/&gt; options for your report.

]]
.column.bg-amber[.content[
```yaml
---
title: "A report on rmarkdown possibilities"
output: html_document
---
```
]]
]
.row.slide-in-right.split-two[
.column[.content.center.v40[
### <i class="fab fa-r-project"></i> And the text and code section <i class="fab fa-r-project"></i>

Which contains your actual report!
]]
.column.bg-amber[.content[
````
``{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
``
## R Markdown

This is an R Markdown document. Markdown is a simple 
formatting syntax for authoring HTML, PDF, and MS 
Word documents. For more details on using R Markdown see
&lt;http://rmarkdown.rstudio.com&gt;.

When you click the **Knit** button a document will be
generated that includes both content as well as the output 
of any embedded R code chunks within the document. You can
embed an R code chunk like this:

``{r cars}
summary(cars)
```

````
]]
]
]
---
class: split-20
.row[.content[
# üç† Customizing the YAML header options üç†
]]

.row.split-three[
.row.split-two.slide-in-left[
.column[.content.left.v40[
.right[Open the YAML header with ---  ]

The only option you *have* to include in the yaml &lt;br/&gt; is the .light-green[output] option.

It specifies instructions for document rendering, i.e.,  &lt;br/&gt; the final format of the report: .light-green[word], .light-green[pdf], or .light-green[html].
]]
.column.bg-light-green[.content[
```yaml
---
output:
  word_document: default
  pdf_document: default
  html_document: default
```
]]
]
.row.split-two.slide-in-right[
.column[.content.center.v40[

You can add any number of parameters with &lt;br/&gt; the .light-blue[params] option.

Include any of these in your report using &lt;br/&gt; .light-blue['r &amp;nbsp; params$name_of_your_param']   
to avoid repeating yourself!

]]
.column.bg-light-blue[.content[
```yaml
params:
  title: "A report on rmarkdown possibilities"
  date: April 15, 2020
  place: "Merced, California"
```
]]
]

.row.split-two.slide-in-left[
.column[.content.right.v40[
Add a .pink[bibliography] option pointing to a [.bib file](https://www.economics.utoronto.ca/osborne/latex/BIBTEX.HTM) &lt;br/&gt; Any citation manager should be able to &lt;br/&gt; export your references to a .bib file

.left[Close the YAML header with ---  ]

]]
.column.bg-pink[.content.v40[
```yaml
bibliography: my_references.bib



---
```
]]
]
]
---
class: split-20
.row[.content[
# <i class="fab fa-r-project"></i> Edit the text and code section <i class="fab fa-r-project"></i>
]]

.row.split-five
Besides all the markdown features that we [already saw](#markdown):

embed code and highlight it

embed the output of the code
  as a chunk
  or as part of text!

Add citations

Add a list of references

---
### Render an Rmarkdown document using the knit button on RStudio or by running the command .amber[rmarkdown::render("my_report.Rmd")]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
